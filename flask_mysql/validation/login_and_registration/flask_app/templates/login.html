<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <title>Login</title>
  </head>
  <body>
    <div class="container d-flex">
      <div class="container mt-5 border border-dark rounded mx-5 p-5">
        <h1>Register</h1>
        <form
          class="d-flex flex-column gap-3"
          action="/user/create"
          method="post"
        >
          <input
            type="text"
            class="form-control my-2"
            placeholder="First Name"
            name="first_name"
          />
          {% for message in
          get_flashed_messages(category_filter=["err_user_first_name"])%}
          <span class="alert alert-danger">{{message}}</span>
          {%endfor%}
          <input
            type="text"
            class="form-control my-2"
            placeholder="Last Name"
            name="last_name"
          />
          {% for message in
          get_flashed_messages(category_filter=["err_user_last_name"])%}
          <p class="alert alert-danger">{{message}}</p>
          {%endfor%}
          <input
            type="email"
            class="form-control my-2"
            placeholder="Email"
            name="email"
          />
          {% for message in
          get_flashed_messages(category_filter=["err_user_email"])%}
          <p class="alert alert-danger">{{message}}</p>
          {%endfor%}
          <input
            type="password"
            class="form-control my-2"
            placeholder="Password"
            name="password"
          />
          {% for message in
          get_flashed_messages(category_filter=["err_user_password"])%}
          <p class="alert alert-danger">{{message}}</p>
          {%endfor%}
          <input
            type="password"
            class="form-control my-2"
            placeholder="Confirm Password"
            name="confirm_password"
          />
          {% for message in
          get_flashed_messages(category_filter=["err_user_confirm_password"])%}
          <p class="alert alert-danger">{{message}}</p>
          {%endfor%}
          <button class="btn btn-success">Register</button>
        </form>
      </div>
      <div class="container mt-5 border border-dark rounded mx-5 p-5">
        <h1>Login</h1>
        <form action="/user/login" method="post">
          <input
            type="email"
            class="form-control my-2"
            placeholder="Email"
            name="email"
          />
          {% for message in
          get_flashed_messages(category_filter=["err_login_email"])%}
          <span class="alert alert-danger">{{message}}</span>
          {%endfor%}
          <input
            type="password"
            class="form-control my-2"
            placeholder="Password"
            name="password"
          />
          {% for message in
          get_flashed_messages(category_filter=["err_login_password"])%}
          <span class="alert alert-danger">{{message}}</span>
          {%endfor%}
          <button class="btn btn-success">Login</button>
        </form>
      </div>
    </div>
    <div class="container my-5">
      <table class="table">
        <thead>
          <tr>
            <th>id</th>
            <th>first name</th>
            <th>last name</th>
            <th>email</th>
            <th>password</th>
            <th>created at</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
          <tr>
            <td>{{user.id}}</td>
            <td>{{user.first_name}}</td>
            <td>{{user.last_name}}</td>
            <td>{{user.email}}</td>
            <td>{{user.password}}</td>
            <td>{{user.created_at}}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </body>
</html>
